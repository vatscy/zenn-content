---
title: "Xamarin ã« Firebase ã‚’å°å…¥ã™ã‚‹"
emoji: "ğŸ”§"
type: "tech"
topics: ["xamarin","firebase"]
published: false
---

ã“ã®è¨˜äº‹ã¯ [ã‚¨ãƒ ãƒ†ã‚£ãƒ¼ã‚¢ã‚¤ Advent Calendar 2021](https://qiita.com/advent-calendar/2021/mti) ã®23æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

-----

Xamarin ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« Firebase ã‚’å°å…¥ã™ã‚‹æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚

ãªãŠã€Firebase è‡ªä½“ã¯[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://firebase.google.com/docs)ã‚’å‚è€ƒã« iOS/Android ç”¨ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’ã™ã‚Œã°OKã§ã™ã€‚Xamarin å›ºæœ‰ã®ç‰¹åˆ¥ãªè¨­å®šã‚’ã™ã‚‹å¿…è¦ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚

@[card](https://firebase.google.com/docs)

# å…±é€šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

**Firebase ã‚³ãƒ³ã‚½ãƒ¼ãƒ«** > **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š** > **å…¨èˆ¬** > **ãƒã‚¤ã‚¢ãƒ—ãƒª** ã‹ã‚‰æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã—ã¾ã™ã€‚

- iOS: `GoogleService-Info.plist`
- Android: `google-services.json`

å–å¾—ã—ãŸæ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ iOS/Android å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«é…ç½®ã—ã¾ã™ã€‚æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ“ãƒ«ãƒ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚ï¼ˆVisual Studio for Mac ã®å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«åã®å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã§ãã¾ã™ã€‚ï¼‰

- iOS: `BundleResource`
- Android: `GoogleServicesJson`

# Firebase Analytics

## NuGet ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ 

NuGet ã‹ã‚‰ä¸‹è¨˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¾ã™ã€‚

- iOS: `Xamarin.Firebase.iOS.Analytics`
    @[card](https://www.nuget.org/packages/Xamarin.Firebase.iOS.Analytics/)
- Android: `Xamarin.Firebase.Analytics`
    @[card](https://www.nuget.org/packages/Xamarin.Firebase.Analytics/)

## åˆæœŸåŒ–

## Android

`MainActivity.cs` ã® `OnCreate` ã§åˆæœŸåŒ–ã—ã¾ã™ã€‚

```cs:MainActivity.cs
public class MainActivity : FormsAppCompatActivity
{
    protected override void OnCreate(Bundle bundle)
    {
        //...

        // GetInstanceã‚’å‘¼ã¶ã“ã¨ã§åˆæœŸåŒ–ã•ã›ã‚‹ï¼ˆã‚‚ã—ã‹ã—ãŸã‚‰ä¸è¦ã‹ã‚‚ï¼‰
        _ = FirebaseAnalytics.GetInstance(this);

        // ...
    }
}
```

## iOS

`AppDelegate.cs` ã® `FinishedLaunching` ã§åˆæœŸåŒ–ã—ã¾ã™ã€‚

```cs:AppDelegate.cs
[Register(nameof(AppDelegate))]
public partial class AppDelegate : Xamarin.Forms.Platform.iOS.FormsApplicationDelegate
{
    public override bool FinishedLaunching(UIApplication app, NSDictionary options)
    {
        // ...

        // Firebaseå…±é€šã®åˆæœŸåŒ–å‡¦ç†
        Firebase.Core.App.Configure();

        // ...

        return base.FinishedLaunching(app, options);
    }
}
```